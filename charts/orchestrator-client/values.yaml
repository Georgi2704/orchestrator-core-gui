# Default values for orchestrator-client.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: git.ia.surfsara.nl:5050/netdev/automation/projects/orchestrator-client/dev
  tag: latest
  secrets:
    - name: gitlab-registry-orchestrator-client

configMapName: "orchestrator-client-configuration"

nameOverride: "orchestrator-client"
fullnameOverride: "orchestrator-client_service"

service:
  name: orchestrator-client
  type: ClusterIP
  port: 80
  internalPort: 8080

ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.class: nginx
    certmanager.k8s.io/issuer: letsencrypt
    nginx.ingress.kubernetes.io/rewrite-target: /$1
    nginx.ingress.kubernetes.io/whitelist-source-range: 145.90.230.0/23,145.101.60.0/23,91.208.87.0/24,95.142.102.0/24,185.150.69.52/32,192.87.118.43/32,145.144.240.0/24,192.87.102.192/27,195.169.126.0/23,145.101.126.0/24,145.145.2.81/32
    nginx.ingress.kubernetes.io/configuration-snippet: |
      proxy_set_header l5d-dst-override $service_name.$namespace.svc.cluster.local:$service_port;
      grpc_set_header l5d-dst-override $service_name.$namespace.svc.cluster.local:$service_port;
  paths:
    - /(.*)
  environmentUrl:
  additionalHosts: []
  tls:
    secretName: tls-secret-orchestrator

pod:
  annotations:
    co.elastic.logs/enabled: "true"
    co.elastic.logs/fileset.stderr: error
    co.elastic.logs/fileset.stdout: access
    co.elastic.logs/module: nginx

resources:
   limits:
     memory: 50Mi
   requests:
     memory: 50Mi

nodeSelector: {}

tolerations: []

affinity: {}

livenessProbe:
  path: /api/user/config
  failureThreshold: 3
  periodSeconds: 30
  timeoutSeconds: 10

readinessProbe:
  path: /api/user/config
  failureThreshold: 3
  periodSeconds: 30
  timeoutSeconds: 10

env:

gitlab:
  app:
  env:

secret:
  secretChecksum:
  secretName:
